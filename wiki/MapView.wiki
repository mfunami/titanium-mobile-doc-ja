#summary UIカタログ - MapView
#labels ui,api,view
= UIカタログ - !MapView =
地図表示を行うViewです。

単体では下の例のようなツールバーはついていません。

http://f.hatena.ne.jp/images/fotolife/d/donayama/20100227/20100227195106.png

{{{
// マーカーはAnnotationオブジェクトとして表現される。
var atlanta = Titanium.Map.createAnnotation({
	latitude:33.74511,
	longitude:-84.38993,
	title:"Atlanta, GA",
	subtitle:'Atlanta Braves Stadium',
	pincolor:Titanium.Map.ANNOTATION_PURPLE,
	animate:true,
	leftButton:'images/atlanta.jpg',
	rightButton: Titanium.UI.iPhone.SystemButton.DISCLOSURE,
	myid:3 // CUSTOM ATTRIBUTE THAT IS PASSED INTO EVENT OBJECTS	
});
// MapViewオブジェクトを作成する。
var mapview = Titanium.Map.createView({
	mapType: Titanium.Map.STANDARD_TYPE,
	region: {latitude:33.74511, longitude:-84.38993, latitudeDelta:0.01, longitudeDelta:0.01},
	animate:true,
	regionFit:true,
	userLocation:true,
	annotations:[atlanta]
});
Ti.UI.currentWindow.add(mapview);
}}}

== 地図表示形式 ==
地図の表示方法には3種類用意されています。

 * Titanium.Map.STANDARD_TYPE
 * Titanium.Map.SATELLITE_TYPE
 * Titanium.Map.HYBRID_TYPE

== ピンの色 ==
ピンの色は次の3つが用意されています。

 * Titanium.Map.ANNOTATION_GREEN
 * Titanium.Map.ANNOTATION_PURPLE
 * Titanium.Map.ANNOTATION_RED

== 拡大縮小 ==
zoomメソッドがあり、引数に縮尺の変化を指示するかたちとなっています。
{{{
// zoom in
mapview.zoom(1);
// zoom out
mapview.zoom(-1);
}}}

== 独自のイベント ==
MapViewには表示内容の更新時や移動・拡大縮小をしたタイミングで発生するイベントが独自に用意されています。

{{{
mapview.addEventListener('loading', function(e){
    // ロード中のイベント
    Ti.API.info('mapview loading...');    
});
mapview.addEventListener('complete', function(e){
    // ロード完了のイベント
    Ti.API.info('mapview load complete');    
});
mapview.addEventListener('regionChanged', function(e){
    // 表示領域が変わったときのイベント（移動・拡大縮小）
    Ti.API.info('mapview redionChanged...');
    Ti.API.info('the new latitude = ' + e.latitude);
    Ti.API.info('the new latitude delta = ' + e.latitudeDelta);    
    Ti.API.info('the new longitude = ' + e.longitude);
    Ti.API.info('the new longitude delta = ' + e.longitudeDelta);
});
mapview.addEventListener('click', function(e){
    if(e.annotation){
        //e.titleにannotationのタイトルが入る
        Ti.API.info('mapview annotation[' + e.title + '] click');
    }
});
}}}

== 関連するAPIドキュメント ==
 * https://developer.appcelerator.com/apidoc/mobile/1.0/Titanium.Map
 * https://developer.appcelerator.com/apidoc/mobile/1.0/Titanium.Map.MapView
 * https://developer.appcelerator.com/apidoc/mobile/1.0/Titanium.Map.Annotation

----
原著作者表示：[http://www.appcelerator.com/ Appcelerator, Inc]